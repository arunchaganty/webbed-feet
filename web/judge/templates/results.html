{% extends "base.html" %}

{% block body %}
<div id="standings">
  <h2>Match Results {%if bot %} For Bot '{{bot.name}}' {%endif%}</h2>
  <p>To replay the match, you can download the log file</p>
  {% if messages %}
  <div id="messages">
  <ul class="messages">
      {% for message in messages %}
      <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
      {% endfor %}
  </ul>
  </div>
  {% endif %}


{% if runs %}
    <table id="results" class="results">
      <thead>
        <th>Timestamp</th> <th>Team 1</th> <th>Team 2</th> <th>Status</th> <th>Score</th><th>Log File</th> 
      </thead>
    <tbody>
    {% for run in runs.object_list %}
    <tr class="{% cycle 'dark' 'light' %}">
      <td><b>{{run.timestamp}}</b></td>
      <td>{{run.player1.team}} ({{run.player1.name}})</td>
      <td>{{run.player2.team}} ({{run.player2.name}})</td>
      <td>{{run.status}}</td>
      <td>{{run.score}}</td>
      <td><a href="{{MEDIA_URL}}{{run.game_data}}">Click Here</a></td>
    </tr>
    {% endfor %}
    </tbody>
    </table>

    <div class="pagination">
        <span class="step-links">
            {% if runs.has_previous %}
                {% if bot_id %}
                <a href="/judge/results/bot/{{bot_id}}/{{ runs.previous_page_number }}/">previous</a>
                {% else %}
                <a href="/judge/results/all/{{ runs.previous_page_number }}/">previous</a>
                {% endif %}
            {% endif %}

            <span class="current">
                Page {{ runs.number }} of {{ runs.paginator.num_pages }}.
            </span>

            {% if runs.has_next %}
                {% if bot_id %}
                <a href="/judge/results/bot/{{bot_id}}/{{ runs.next_page_number }}/">next</a>
                {% else %}
                <a href="/judge/results/all/{{ runs.next_page_number }}/">next</a>
                {% endif %}
            {% endif %}
        </span>
    </div>

{% else %}
    <b>None</b>
{% endif %}
</div>
  {% endblock %}

